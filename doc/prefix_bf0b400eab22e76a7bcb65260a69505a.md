项目架构图如下：
![](https://www.showdoc.com.cn/server/api/attachment/visitfile/sign/5053997518d500501d3ddb24d8bfcd7b)

欺骗防御由探针服务器，蜜网和管理平台三大部分组成：
- 探针服务器，在实际应用场景中就是业务服务器或者部署在公网引诱黑客攻击的服务器，在上面部署agent，通过透明代理技术将流量从探针服务器的端口引流到蜜网服务器。
在探针上可以部署诱饵，多种类型的诱饵可以通过多种方式引诱黑客将攻击的重心转移到蜜罐上。
同时在探针上还可以部署密签，多种类型的密签，可以让黑客在打开密签的时候，管理平台就能获取黑客的真实攻击ip等对黑客进行特征采集。
- 蜜网，可以是单台服务器也可以是服务器集群，可以根据实际场景进行部署。在蜜网内的服务器上部署agent，可以通过协议代理技术，将透明代理转发过来的流量，根据协议类型代理到蜜罐中去，使黑客最终攻击的是蜜罐环境。
蜜网内的服务器还部署了falco监控模块，可以监控蜜罐中文件的变化，及时取出黑客攻击产生的文件进行监测，分析是否有病毒或者新的木马样本。
支持向蜜罐部署诱饵和密签，效果如同在探针上部署的诱饵和密签。
- 管理平台，支持通过agent向探针服务器下发透明转发任务 ；支持通过agent向蜜网中的服务器下发协议转发任务；支持通过agent向探针服务器部署诱饵和密签 ；支持通过容器API向蜜罐部署诱饵和密签 ；支持动态创建容器，销毁容器等。

基于安全起见，部署欺骗防御环境的时候，需要做对应的网络方面的访问策略：
- 探针服务器可以向蜜网发送网络请求，为防止黑客在攻击蜜罐后横向渗透探针，蜜网无法向探针发送网络请求。
- 蜜网服务器可以向蜜罐发送请求，蜜罐不允许访问蜜网服务器。
- 管理平台可以通过容器的API访问蜜罐，蜜罐不允许访问管理平台。
